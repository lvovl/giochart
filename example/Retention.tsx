import * as React from "react";
import { DrawParamsProps, Source} from "../src/ChartProps";
import Chart from "../src/Chart";
import { retentionSourceSelector } from "../src/utils";

const s = JSON.parse('[{"tm":1498665600000,"turn":"1","retention":3249,"retention_rate":0.20797593137882472},{"tm":1499011200000,"turn":"1","retention":4427,"retention_rate":0.16400548290297484},{"tm":1499616000000,"turn":"1","retention":4221,"retention_rate":0.17721146983500566},{"tm":1500220800000,"turn":"1","retention":4306,"retention_rate":0.1857876342926177},{"tm":1500825600000,"turn":"1","retention":4284,"retention_rate":0.18445640473627556},{"tm":1501430400000,"turn":"1","retention":4274,"retention_rate":0.1862958765582774},{"tm":1502035200000,"turn":"1","retention":4244,"retention_rate":0.18648387380261885},{"tm":1502640000000,"turn":"1","retention":4246,"retention_rate":0.18008312833997794},{"tm":1503244800000,"turn":"1","retention":4340,"retention_rate":0.17346123101518784},{"tm":1503849600000,"turn":"1","retention":4187,"retention_rate":0.16352913607248867},{"tm":1504454400000,"turn":"1","retention":4288,"retention_rate":0.16967394745172523},{"tm":1505059200000,"turn":"1","retention":4294,"retention_rate":0.17499388703235796},{"tm":1505664000000,"turn":"1","retention":3128,"retention_rate":0.12145214521452145},{"tm":1498665600000,"turn":"2","retention":2496,"retention_rate":0.1597746767379337},{"tm":1499011200000,"turn":"2","retention":3528,"retention_rate":0.13070055199496167},{"tm":1499616000000,"turn":"2","retention":3433,"retention_rate":0.14412863680255258},{"tm":1500220800000,"turn":"2","retention":3459,"retention_rate":0.1492427837942788},{"tm":1500825600000,"turn":"2","retention":3380,"retention_rate":0.14553283100107642},{"tm":1501430400000,"turn":"2","retention":3476,"retention_rate":0.15151250980734024},{"tm":1502035200000,"turn":"2","retention":3282,"retention_rate":0.1442130239915634},{"tm":1502640000000,"turn":"2","retention":3365,"retention_rate":0.14271778776825855},{"tm":1503244800000,"turn":"2","retention":3434,"retention_rate":0.1372501998401279},{"tm":1503849600000,"turn":"2","retention":3393,"retention_rate":0.1325183565067958},{"tm":1504454400000,"turn":"2","retention":3441,"retention_rate":0.13615859449192783},{"tm":1505059200000,"turn":"2","retention":2293,"retention_rate":0.09344689868774961},{"tm":1498665600000,"turn":"3","retention":2228,"retention_rate":0.14261938292152093},{"tm":1499011200000,"turn":"3","retention":3113,"retention_rate":0.11532619568036158},{"tm":1499616000000,"turn":"3","retention":2986,"retention_rate":0.12536210588185903},{"tm":1500220800000,"turn":"3","retention":2922,"retention_rate":0.12607326228588686},{"tm":1500825600000,"turn":"3","retention":3013,"retention_rate":0.1297308934337998},{"tm":1501430400000,"turn":"3","retention":3045,"retention_rate":0.13272600470752333},{"tm":1502035200000,"turn":"3","retention":2918,"retention_rate":0.12821864838738026},{"tm":1502640000000,"turn":"3","retention":2916,"retention_rate":0.12367461192637204},{"tm":1503244800000,"turn":"3","retention":3043,"retention_rate":0.12162270183852918},{"tm":1503849600000,"turn":"3","retention":3103,"retention_rate":0.12119200124980471},{"tm":1504454400000,"turn":"3","retention":2062,"retention_rate":0.08159227603672048},{"tm":1498665600000,"turn":"4","retention":2042,"retention_rate":0.1307130969146076},{"tm":1499011200000,"turn":"4","retention":2790,"retention_rate":0.10336013040417887},{"tm":1499616000000,"turn":"4","retention":2663,"retention_rate":0.11180150300180527},{"tm":1500220800000,"turn":"4","retention":2713,"retention_rate":0.11705570177330975},{"tm":1500825600000,"turn":"4","retention":2717,"retention_rate":0.11698600645855758},{"tm":1501430400000,"turn":"4","retention":2705,"retention_rate":0.11790602388632203},{"tm":1502035200000,"turn":"4","retention":2587,"retention_rate":0.1136743123297302},{"tm":1502640000000,"turn":"4","retention":2657,"retention_rate":0.11268979557214352},{"tm":1503244800000,"turn":"4","retention":2777,"retention_rate":0.1109912070343725},{"tm":1503849600000,"turn":"4","retention":1812,"retention_rate":0.07077019215747539}]');
const c = JSON.parse('{"adjust":"stack","timeRange":"day:91,1","granularities":[{"id":"tm","interval":"604800000"}],"attrs":{"selection":[]},"chartType":"retention","columns":[{"id":"tm","name":"起始时间","isDim":true,"isRate":false},{"id":"turn","name":"留存周期","isDim":true,"isRate":false,"values":["1周后留存率","2周后留存率","3周后留存率","4周后留存率"]},{"id":"retention_rate","name":"留存率","isDim":false,"isRate":true},{"id":"retention","name":"留存人数","isDim":false,"isRate":false}]}');

const c1 = JSON.parse('{"adjust":"stack","timeRange":"abs:1496073600000,1506527999999","granularities":[{"id":"tm","interval":"2592000000"}],"attrs":{"selection":[]},"chartType":"retention","columns":[{"id":"tm","name":"起始时间","isDim":true,"isRate":false},{"id":"turn","name":"留存周期","isDim":true,"isRate":false,"values":["1月后留存率","2月后留存率","3月后留存率"]},{"id":"retention_rate","name":"留存率","isDim":false,"isRate":true},{"id":"retention","name":"留存人数","isDim":false,"isRate":false}]}');
const s1 = JSON.parse('[{"tm":1496073600000,"turn":"1","retention":2797,"retention_rate":0.47455039022734985},{"tm":1496246400000,"turn":"1","retention":10848,"retention_rate":0.12593598718350574},{"tm":1498838400000,"turn":"1","retention":10469,"retention_rate":0.11916632518326276},{"tm":1501516800000,"turn":"1","retention":9979,"retention_rate":0.11049962351065243},{"tm":1496073600000,"turn":"2","retention":1699,"retention_rate":0.28825924669155073},{"tm":1496246400000,"turn":"2","retention":7039,"retention_rate":0.08171676012027072},{"tm":1498838400000,"turn":"2","retention":6385,"retention_rate":0.07267905113144835},{"tm":1496073600000,"turn":"3","retention":1303,"retention_rate":0.22107227689175432},{"tm":1496246400000,"turn":"3","retention":4954,"retention_rate":0.05751169621193652}]');


const c2 = JSON.parse('{"adjust":"stack","timeRange":"day:91,1","granularities":[{"id":"tm","interval":"2592000000"}],"attrs":{"selection":[]},"chartType":"retention","columns":[{"id":"tm","name":"起始时间","isDim":true,"isRate":false},{"id":"turn","name":"留存周期","isDim":true,"isRate":false,"values":["1月后留存率","2月后留存率","3月后留存率"]},{"id":"retention_rate","name":"留存率","isDim":false,"isRate":true},{"id":"retention","name":"留存人数","isDim":false,"isRate":false}]}');
const s2 = JSON.parse('[{"tm":1498752000000,"turn":"1","retention":2512,"retention_rate":0.4496956677407805},{"tm":1498838400000,"turn":"1","retention":10469,"retention_rate":0.11916632518326276},{"tm":1501516800000,"turn":"1","retention":9979,"retention_rate":0.11049962351065243},{"tm":1498752000000,"turn":"2","retention":1576,"retention_rate":0.2821339061940566},{"tm":1498838400000,"turn":"2","retention":6385,"retention_rate":0.07267905113144835},{"tm":1498752000000,"turn":"3","retention":1157,"retention_rate":0.207124955245256}]');

const Retention = (props: any) => (
  <Chart chartParams={c2} source={s2} gridPanel={true} />
);
export default Retention;
